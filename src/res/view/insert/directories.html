<div id="gadget_directories" style="width:900px;overflow: auto; ">
	<table>
		<tr id="directories_t"></tr>
	</table>
</div>

<script>
  function updateDirectories() {
	makeJSONAjaxCall('@contextpath@@servletpath@/Directories', 'path=@:path@',
			true, function(json) {
				var dr = getElement('directories_t');
				for ( var i = 0; i < json.length; i++) {
					if (!json[i])
						break;
					var cc = dr.insertCell(i); // js fields already encoded as required
					cc.innerHTML = '<a href="Navigator?path='  //@:path@
							+ encodeURIComponent(json[i].path)
							+ '"><img border="0" src="@contextpath@/image/directory.png">'
							+ (json[i].name==''?json[i].path:json[i].name) + '</a>';
				}
			}, function(e) {
			});
  }
</script>